<div class="clr-row headline">
    <div class="clr-col-8">
        <p><span class="title">BioCatHub</span></p>
        <p><span class="description">web application to create, collect and share experimental data in biocatalysis</span></p>
        <p>
            <button class="btn btn-primary" (click)="newExperiment()">
                start new experiment
            </button>
        </p>
    </div>
    <div class="clr-col-4">
        <div class="file-upload">
            <div class="clr-row">
                <div class="clr-col-12">
                    <ngx-dropzone accept=".omex" (change)="onSelect($event)">
                        <ngx-dropzone-label>import experiment</ngx-dropzone-label>
                        <ngx-dropzone-preview *ngFor="let file of files" [removable]="true" (removed)="onRemove(file)">
                            <ngx-dropzone-label>{{file.name}}</ngx-dropzone-label>
                        </ngx-dropzone-preview>
                    </ngx-dropzone>
                </div>
            </div>
            <div class="clr-row" *ngIf="files.length > 0">
                <div class="clr-col-12">
                    <button class="btn btn-primary" (click)="import()">import experiment</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="clr-row">
    <div class="clr-col-12">
        <span class="headline">published experiments</span>
    </div>
</div>
<div class="clr-row">
    <div class="clr-col-12">
        <div class="experiment-table">
            <clr-datagrid [(clrDgSingleSelected)]="selectedExperiment">
                <clr-dg-column [clrDgField]="'id'">zenodo id</clr-dg-column>
                <clr-dg-column [clrDgField]="'title'">experiment</clr-dg-column>
                <clr-dg-column [clrDgField]="'name'">experimentalist</clr-dg-column>
                <clr-dg-column [clrDgField]="'affiliation'">institution</clr-dg-column>
                <clr-dg-column [clrDgField]="'date'">publication date</clr-dg-column>

                <clr-dg-row *clrDgItems="let experiment of experiments" [clrDgItem]="experiment">
                    <clr-dg-cell>
                        <a href="{{experiment.link}}" target="_blank">{{experiment.id}}</a>
                    </clr-dg-cell>
                    <clr-dg-cell>{{experiment.title}}</clr-dg-cell>
                    <clr-dg-cell>{{experiment.name}}</clr-dg-cell>
                    <clr-dg-cell>{{experiment.affiliation}}</clr-dg-cell>
                    <clr-dg-cell>{{experiment.date}}</clr-dg-cell>
                </clr-dg-row>

                <clr-dg-placeholder>no experiments</clr-dg-placeholder>

                <clr-dg-footer>
                    <clr-dg-pagination #pagination [clrDgPageSize]="10">
                        <clr-dg-page-size [clrPageSizeOptions]="[10,20,50,100]">experiments per page</clr-dg-page-size>
                        {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}} of {{pagination.totalItems}} experiments
                    </clr-dg-pagination>
                </clr-dg-footer>
            </clr-datagrid>
            <button class="btn btn-primary" (click)="showExperiment()" *ngIf="selectedExperiment">
                show experiment
            </button>
        </div>
    </div>
</div>

<div class="get-started">
    <div class="clr-row" >
        <div class="clr-col-12 center-col">
            <span class="impressum-headline">standardisation of experimental data in a few steps</span>
        </div>
    </div>
    <div class="clr-row" >
        <div class="clr-col-2 center-col">
            <clr-icon shape="volume" class="is-highlight" size="36"></clr-icon><br>
            <span class="impressum-text">1. vessels & volumes</span>
        </div>
        <div class="clr-col-2 center-col">
            <clr-icon shape="helix" class="is-highlight" size="36"></clr-icon><br>
            <span class="impressum-text">2. biocatalyst</span>
        </div>
        <div class="clr-col-2 center-col">
            <clr-icon shape="flask" class="is-highlight" size="36"></clr-icon><br>
            <span class="impressum-text">3. reactants</span>
        </div>
        <div class="clr-col-2 center-col">
            <clr-icon shape="thermometer" class="is-highlight" size="36"></clr-icon><br>
            <span class="impressum-text">4. reaction conditions</span>
        </div>
        <div class="clr-col-2 center-col">
            <clr-icon shape="line-chart" class="is-highlight" size="36"></clr-icon><br>
            <span class="impressum-text">5. experimental data</span>
        </div>
        <div class="clr-col-2 center-col">
            <clr-icon shape="upload-cloud" class="is-highlight" size="36"></clr-icon><br>
            <span class="impressum-text">6. publish experiment</span>
        </div>
    </div>
</div>

<div class="impressum">
    <div class="clr-row" >
        <div class="clr-col-12 center-col">
            <span class="impressum-headline">external technologies and information systems</span>
        </div>
    </div>
    <div class="clr-row">
        <div class="clr-col-3 center-col">
            <clr-icon class="is-highlight impressum-icon" size="24" shape="cloud"></clr-icon>
            <a href="https://zenodo.org/" target="_blank"><span class="impressum-text">zenodo</span></a><br>
            <p>
                BioCatHub supports uploading experimental data to a zenodo repsitory to make the experiments easily accesible and citeable.
            </p>
        </div>
        <div class="clr-col-3 center-col">
            <clr-icon class="is-highlight impressum-icon" size="24" shape="code"></clr-icon>
            <a href="https://github.com/EnzymeML" target="_blank"><span class="impressum-text">EnzymeML</span></a>
            <p>
                BioCatHub supports reading and writing EnzymeML files. The XML based exchange format for experimental data in biocatalysis is developed at the university of Stuttgart.
            </p>
        </div>
        <div class="clr-col-3 center-col">
            <clr-icon class="is-highlight impressum-icon" size="24" shape="storage"></clr-icon>
            <a href="https://www.brenda-enzymes.org/" target="_blank"><span class="impressum-text">BRENDA</span></a>
            <p>
                BioCatHub uses BRENDA REST API to specify enzymes and display information. The information system comprises molecular and biochemical information on enzymes that have been classified by the IUBMB.
            </p>
        </div>
        <div class="clr-col-3 center-col">
            <clr-icon class="is-highlight impressum-icon" size="24" shape="storage"></clr-icon>
            <a href="http://sabio.h-its.org" target="_blank"><span class="impressum-text">SABIO-RK</span></a>
            <p>
                SABIO-RK is a curated database containing structured information about biochemical reactions and their corresponding kinetics. It describes participants and modifiers of the reactions.
            </p>
        </div>
    </div>
</div>

<div class="overlay" *ngIf="loading">
    <div class="overlay-wrapper">
        <div class="overlay-spinner">
            <span class="spinner spinner-inverse spinner-lg"></span>
        </div>
    </div>
</div>
